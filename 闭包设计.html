<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script>

	/**
	 * 闭包的两种
	 */

	var createPet = function(name){
		var sex;
		return {
			setName : function(newName){
				name = newName;
			}, 
			getName : function(){
				return name;
			},
			getSex : function(){
				return sex;
			},
			setSex : function(newSex){
				if(typeof newSex == 'string' && newSex.toLowerCase() == 'male'|| newSex.toLowerCase() == 'female'){
					sex = newSex;
				}
			}
		};
	}

	var getCode = function(){
		var code = "<h1>闭包测试</g1>";
		return function(){
			return code;
		}
	}

	//测试闭包
	var body = document.querySelector('body');
	var code = getCode();
	var element = document.createElement("div");
	element.innerHTML = code();
	body.appendChild(element);


	var pet = createPet('阿黄');
	console.log(pet.getName())
	pet.setName("吉娃娃")
	pet.setSex("male")
	console.log(pet.getSex());
	console.log(pet.getName());


	//错误演示 
	var errTest = function(name){
		return {
			test:function(name){
				name = name;
			}
		}
	}
</script>
</body>
</html>